---
title: Chrome Extension
description: Install and use the Jiggle Wiggle Chrome extension to send YouTube videos directly to the app
---

The Jiggle Wiggle Chrome extension lets you open any YouTube video in the Jiggle Wiggle web app with a single click. When you're watching a YouTube video, just click the extension button and the video will automatically open in Jiggle Wiggle for AI-powered dance coaching.

## How It Works

The extension uses a Manifest v3 service worker that:
- Detects when you're on a YouTube page (watch, shorts, or youtu.be URLs)
- Extracts the current video URL
- Opens Jiggle Wiggle in a new tab with the video URL as a query parameter
- If you're not on YouTube, it simply opens the Jiggle Wiggle home page

## Installation

<Steps>
  <Step title="Build the extension">
    Navigate to the extension directory and ensure all files are present:
    ```bash
    cd extension/
    ls -la
    ```
    
    You should see:
    - `manifest.json` - Extension configuration
    - `background.js` - Service worker logic
    - `icon.png` - Extension icon (48x48 and 128x128)
  </Step>

  <Step title="Load the extension in Chrome">
    1. Open Chrome and navigate to `chrome://extensions/`
    2. Enable **Developer mode** (toggle in top-right corner)
    3. Click **Load unpacked**
    4. Select the `extension/` folder from your Jiggle Wiggle directory
    5. The Jiggle Wiggle icon should appear in your toolbar
  </Step>

  <Step title="Configure the web app URL (development)">
    By default, the extension points to `http://localhost:3000`. If you're running the dev server on a different port or URL, edit `background.js`:
    
    ```js
    const WEB_APP_URL = "http://localhost:3000";
    ```
    
    Change this to your development server URL, then reload the extension in `chrome://extensions/`.
  </Step>

  <Step title="Test the extension">
    1. Navigate to any YouTube video (e.g., `youtube.com/watch?v=...`)
    2. Click the Jiggle Wiggle extension icon in your toolbar
    3. A new tab should open with Jiggle Wiggle, and the video URL will be automatically populated
  </Step>
</Steps>

## Extension Configuration

The extension manifest (`manifest.json`) defines the extension's capabilities:

```json
{
  "manifest_version": 3,
  "name": "Jiggle Wiggle",
  "version": "1.0.0",
  "description": "Open any YouTube video in Jiggle Wiggle to learn dance moves with AI coaching",
  "permissions": ["activeTab", "tabs"],
  "action": {
    "default_title": "Jiggle Wiggle",
    "default_icon": "icon.png"
  },
  "background": {
    "service_worker": "background.js"
  }
}
```

### Required Permissions

- **activeTab** - Allows the extension to read the current tab's URL when you click the icon
- **tabs** - Enables creating new tabs to open Jiggle Wiggle

## How the Service Worker Works

The background service worker (`background.js`) listens for clicks on the extension icon:

```js
chrome.action.onClicked.addListener(async (tab) => {
  const url = tab.url || "";

  // Check if current tab is a YouTube page
  if (
    url.includes("youtube.com/watch") ||
    url.includes("youtu.be/") ||
    url.includes("youtube.com/shorts")
  ) {
    // Open the web app with the YouTube URL as a query param
    await chrome.tabs.create({
      url: `${WEB_APP_URL}/?url=${encodeURIComponent(url)}`,
    });
  } else {
    // If not on YouTube, just open the app
    await chrome.tabs.create({
      url: WEB_APP_URL,
    });
  }
});
```

### Supported YouTube URLs

The extension recognizes these YouTube URL patterns:
- Standard videos: `youtube.com/watch?v=VIDEO_ID`
- Short links: `youtu.be/VIDEO_ID`
- Shorts: `youtube.com/shorts/VIDEO_ID`

## Production Deployment

For production use:

<Steps>
  <Step title="Update the web app URL">
    Edit `background.js` and change `WEB_APP_URL` to your production domain:
    
    ```js
    const WEB_APP_URL = "https://jigglewiggle.app";
    ```
  </Step>

  <Step title="Prepare extension assets">
    Ensure you have high-quality icons:
    - 48x48 px icon for the toolbar
    - 128x128 px icon for the Chrome Web Store listing
    - Optional: Add promotional images (440x280, 920x680, 1400x560)
  </Step>

  <Step title="Package the extension">
    Zip the extension directory:
    ```bash
    cd extension/
    zip -r jiggle-wiggle-extension.zip .
    ```
  </Step>

  <Step title="Publish to Chrome Web Store">
    1. Go to [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole/)
    2. Pay the one-time $5 developer registration fee (if not already registered)
    3. Click **New Item** and upload your zip file
    4. Fill in store listing details (description, screenshots, category)
    5. Submit for review (typically takes 1-3 business days)
  </Step>
</Steps>

## Troubleshooting

### Extension icon not showing
- Check that `icon.png` exists in the extension directory
- Ensure the icon is at least 48x48 pixels
- Reload the extension in `chrome://extensions/`

### Extension opens blank page
- Verify the web app URL is correct in `background.js`
- Make sure your Jiggle Wiggle dev server is running
- Check the browser console for errors

### YouTube URL not passed correctly
- Ensure you're on a valid YouTube video page (not the home page or search results)
- Check that the URL includes `watch`, `youtu.be`, or `shorts`
- View the extension's service worker logs in `chrome://extensions/` (click "service worker" link)

## Development Tips

- **Auto-reload**: Use a tool like `web-ext` for automatic reloading during development
- **Debugging**: Click "service worker" in `chrome://extensions/` to open DevTools for the background script
- **Testing**: Test with various YouTube URL formats (regular videos, shorts, playlists)
- **TypeScript**: The source is written in TypeScript (`background.ts`) - compile to `background.js` if making changes